// 2024-06-27 "Refactor the CSS of the frontend main menu for narrow screens": https://github.com/cabinetsbay/core/issues/12
> #mobile-navigation {
	> .mobile-navigation-popup {
		background-color: #f8f8f8;
		position: fixed;
		top: 52px !important;
		left: -100vw;
		width: 100%;
		z-index: 99900;
		-webkit-transition: all .5s ease-in-out;
		-moz-transition: all .5s ease-in-out;
		-ms-transition: all .5s ease-in-out;
		transition: all .5s ease-in-out;
		/* Firefox */
		height: -moz-calc(~'100% - 52px') !important;;
		/* WebKit */
		height: -webkit-calc(~'100% - 52px') !important;;
		/* Opera */
		height: -o-calc(~'100% - 52px') !important;;
		/* Standard */
		height: calc(~'100% - 52px') !important;;
		> .mobile-menu-links {
			text-align: center;
			overflow: auto;
			border-top: 1px solid #f8f8f8;
			height: calc(~'100% - 65px');
			> ul {
				margin: 0;
				padding: 0;
				list-style-type: none;
				> li {
					background-color: #fff;
					border-top: 1px solid #f8f8f8;
					margin: 0;
					a {
						color: #484848;
						display: block;
						font-size: 1.6em;
						padding: .6em 0;
						line-height: 1.5;
						text-decoration: none;
						&:hover {
							text-decoration: none;
							background: #cceaec;
						}
					}
					> .link-wrapper {
						> a {
							text-transform: uppercase;
						}
					}
					&._hasSubmenu.active {
						.submenu-toggle {
							&:before, &:after {
								transform: rotate(135deg);
							}
						}
						ul.submenu {
							height: auto;
						}
					}
				}
				ul.submenu {
					height: 0;
					-webkit-transition: all .5s ease-in-out;
					-moz-transition: all .5s ease-in-out;
					-ms-transition: all .5s ease-in-out;
					transition: all .5s ease-in-out;
					padding-left: 0;
					overflow-y: hidden;
					li {
						background-color: #f8f8f8;
						border-top-color: #f2f2f2;
						margin-bottom: 0;
						&:last-of-type {
							margin-bottom: 0;
						}
						a {
							font-size: 1.2em;
						}
					}
				}
			}
			.link-wrapper {
				position: relative;
			}
			.submenu-toggle {
				width: 18px;
				height: 18px;
				position: absolute;
				display: inline-block;
				top: 50%;
				right: 30px;
				transform: translateY(-50%);
				&:before, &:after {
					content: '';
					background-color: #3a3a3c;
					position: absolute;
					-webkit-transition: all .5s ease-in-out;
					-moz-transition: all .5s ease-in-out;
					-ms-transition: all .5s ease-in-out;
					transition: all .5s ease-in-out;
				}
				&:before {
					width: 2px;
					height: 100%;
					left: calc(50% - 5px);
					top: 0;
				}
				&:after {
					width: 100%;
					height: 2px;
					top: calc(50% - 5px);
					left: 0;
				}
			}
		}
		.bottom-links {
			background-color: #fff;
			position: absolute;
			width: 100%;
			bottom: 0;
			left: 0;
			box-shadow: 0 -2px 2px rgba(0, 0, 0, .05);
			display: flex;
			a {
				width: 50%;
				flex: auto;
				padding: 1.2em 0;
				height: 1.5em;
				font-size: 1.2em;
				text-align: center;
				background-color: #689aa5;
				color: #ffffff;
				text-transform: uppercase;
				text-decoration: none;
				&.call-us {
					background-color: #232b39;
					border-right: 1px solid #fff;
					background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8IS0tIENyZWF0b3I6IENvcmVsRFJBVyAyMDE3IC0tPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1OThweCIgaGVpZ2h0PSI2MDBweCIgdmVyc2lvbj0iMS4xIiBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiDQp2aWV3Qm94PSIwIDAgMTcxLjcgMTcyLjQiDQogeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KICAgPCFbQ0RBVEFbDQogICAgLmZpbDAge2ZpbGw6I2ZmZmZmZn0NCiAgIF1dPg0KICA8L3N0eWxlPg0KIDwvZGVmcz4NCiA8ZyBpZD0iTGF5ZXJfeDAwMjBfMSI+DQogIDxtZXRhZGF0YSBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIi8+DQogIDxwYXRoIGNsYXNzPSJmaWwwIiBkPSJNMTYzIDE0Ni45MWMwLDQuMDggLTMuODIsNS41OCAtNi4zOCw3LjE5bC00LjMyIDIuNDZjLTUuMTgsMi43MiAtOC42Niw0LjY5IC0xNC40NCw2LjEzIC05LjIsMi4yOCAtMTguODksMi4xNiAtMjcuNzksLTAuODMgLTUuMTMsLTEuNzMgLTcuNiwtMi45MyAtMTIuMTMsLTUuOTVsLTQuMTggLTMuMDYgLTY5LjE3IC02OC45NmMtMS4wNiwtMS4wNiAtMi43NiwtMi41NCAtMy42MSwtMy42MyAtMS44MywtMi4zNCAtMi43OCwtMi45OCAtNC42MywtNi4yMiAtMC4yNywtMC40OCAtMC40MiwtMC42NyAtMC43MSwtMS4xbC0xLjQgLTIuNDRjLTAuMjEsLTAuNDEgLTAuMzYsLTAuNzQgLTAuNiwtMS4yMSAtMi45OCwtNS45NiAtNS4wNSwtMTMuODQgLTUuMDUsLTIwLjUgMCwtNi40MyAwLjEsLTguOTcgMS45LC0xNS4yOCAwLjE0LC0wLjUxIDAuMjIsLTAuNzUgMC4zNiwtMS4yMiAwLjc4LC0yLjc4IDIuMzIsLTUuOCAzLjcsLTguMjlsMi40IC00LjM3YzEuMTcsLTIuMDIgMi40OSwtNC40MiAzLjkxLC02LjI3IDIuMjEsLTIuODggMi44NSwtNC4xMyA3LjQsLTQuMTMgMi43LDAgNC4zOSwyLjI1IDUuOTMsMy43OSAxLjcxLDEuNyA0LjM1LDQuNTIgNi4wOSw1Ljg5IDEuMzksMS4wOCA5LjkyLDEwLjEzIDEyLjMzLDEyLjMxIDMuOSwzLjUyIDcuMzUsNy4xMiAxMS4wOSwxMC44NSAzLjI1LDMuMjYgMy42NywzLjIzIDMuNjcsOC4wOCAwLDMuNTYgLTcuNSw2LjcxIC05LjYzLDkuNTggLTEuODQsMi40OSAtMy4xNCw0LjUxIC0zLjY2LDcuODggLTAuNjksNC40OSAwLjk5LDkuMTMgMy4wNywxMS43NWwxNi44MyAxNy43NmMwLjMzLDAuMzIgMC42MiwwLjU3IDAuODksMC45MSAwLjQyLDAuNTQgMC4zOSwwLjYgMC45MiwxLjEybDEzLjExIDEzLjc5YzEuOTksMS45OCAzLjcxLDMuOTUgNi4yNyw1LjI2IDMuNzIsMS45IDguMjIsMi4yMSAxMi40NywwLjcxIDYuNzYsLTIuMzggOC41NywtOS4wOCAxMS45LC0xMS4xNiAxLjQ4LC0wLjkzIDQuMjgsLTEuMjkgNi4xNCwtMC42MSAxLjA4LDAuNCAxLjU0LDAuNyAyLjMzLDEuNTFsNS43NyA1Ljc2YzIuNzUsMi43NSA5LjgsMTAuMDcgMTIuNDMsMTIuNDQgMC41MiwwLjQ3IDAuNjksMC4zOCAxLjE0LDAuOSAxLjY5LDEuOTIgMy42Niw0LjM2IDUuNyw1LjgybDYuNzMgNi42MmMxLjgxLDEuNTEgMy4yMiw0LjAyIDMuMjIsNi43MnptLTE2MyAtOTkuOTNjMCw0LjE5IDAuNTQsOC4yNSAxLjI2LDExLjg1IDEuMTMsNS41NyAyLjc1LDkuNyA1LjE1LDE0LjUzIDAuNDIsMC44NiAwLjcxLDEuMTkgMS4xMywyLjAzIDAuMzksMC44MSAwLjc3LDEuNDQgMS4yMywyLjE2bDQuNzUgNi41NWMyLjA5LDIuNjUgNS40LDUuMDUgNy4yOCw3LjY1IDEuNTUsMi4xNCAzLjkzLDMuNjIgNS43MSw1LjU5IDEuMDIsMS4xMiAxLjk4LDIuMzkgMy4xNiwzLjM5bDEyLjQzIDEyLjQ0YzAuNjcsMC42NyAxLjEzLDAuODggMS44MSwxLjU4IDAuNTgsMC41OSAxLjAxLDAuOTkgMS41OSwxLjU4bDMuMTYgMy40YzEuMDUsMS4wNiAyLjQ0LDEuOTcgMy4zOCwzLjE3IDEuMTQsMS40NyAyLjYxLDIuOTQgNC4wNyw0LjA3IDAuMzUsMC4yNyAwLjU5LDAuNTYgMC45MiwwLjg5IDEuODYsMS44OCAzLjU1LDQuMDQgNS42NCw1LjY3IDIuMTcsMS43IDMuNiw0LjI2IDUuNzksNS45NmwxLjc5IDEuNmMwLjMsMC4yOSAwLjUzLDAuNDkgMC43OCwwLjggMS42OCwyLjE1IDMuODUsMy44NCA1Ljc4LDUuNzUgMS41OSwxLjU5IDIuOTYsMy41OSA0LjgsNC45MiAwLjY2LDAuNDggMS4xNywxLjAyIDEuNzYsMS42NCAwLjYxLDAuNjMgMC43MywxLjA5IDEuNDcsMS42OSAwLjQzLDAuMzcgMC40NSwwLjI3IDAuOSwwLjY4IDYuOTUsNi4yNyAxMi43OCwxMCAyMS43OSwxMy4wMyAxMS42MywzLjkyIDMxLjQ4LDQuMzYgNDIuMjYsLTIuODkgMC41LC0wLjMzIDAuNjMsLTAuMzcgMS4xNCwtMC42OGwzLjAzIC0xLjcxYzAuNSwtMC4yNSAwLjcxLC0wLjQzIDEuMTMsLTAuNjggMy4xLC0xLjc5IDkuNTMsLTUuMzQgMTEuOTIsLTcuNzQgMC40LC0wLjM5IDAuNDQsLTAuNDQgMC43NCwtMC44NSAwLjc2LC0xLjA2IDEuNDksLTEuODQgMi4xMSwtMy4wOSAxLjU0LC0zLjA5IDIuMzcsLTcuMSAxLjQ2LC0xMC42NiAtMC41NiwtMi4yIC0wLjg0LC0yLjgxIC0xLjkxLC00LjY0IC0wLjM1LC0wLjU5IC0wLjkyLC0xLjMzIC0xLjM4LC0xLjc5IC0wLjMzLC0wLjM0IC0wLjQ3LC0wLjU0IC0wLjc1LC0wLjgzbC0wLjQ4IC0wLjQzYy0wLjc2LC0wLjY2IC0zLjcyLC00LjE1IC01LjIyLC01LjQxIC0wLjQzLC0wLjM2IC0wLjQ1LC0wLjI3IC0wLjksLTAuNjcgLTAuNCwtMC4zNiAtMC41NywtMC41OCAtMC44NSwtMC45NyAtMC45MywtMS4yOSAtMy41NywtMy45NiAtNC45NywtNC45N2wtNC45MiAtNS4wM2MtMC4yOCwtMC4yOSAtMC40OSwtMC41NCAtMC43OSwtMC43OSAtMC40MywtMC4zNyAtMC40NSwtMC4yNyAtMC45MSwtMC42OGwtMS41OCAtMS44MWMtMS45LC0yLjI3IC0zLjk3LC0zLjY1IC01Ljc2LC01LjUzIC0wLjQ2LC0wLjQ4IC0wLjQsLTAuNTYgLTAuNzksLTEuMDIgLTAuOTQsLTEuMTMgLTcuMDUsLTcuMDEgLTguNDYsLTcuODIgLTYuNzMsLTMuODYgLTE0LjM1LC0yLjk3IC0xOS42OSwyLjYxIC0wLjM4LDAuMzkgLTAuNTYsMC43IC0wLjksMS4xNCAtMS4zLDEuNzEgLTIuNDcsMy41NSAtMy45MSw1LjEzbC0wLjIzIDAuMjJjLTEuNDEsMS4zMyAtMy40NiwxLjYgLTUuNDEsMS42IC0yLjU3LDAgLTQuNTUsLTIuNCAtNS45NCwtMy43OWwtMjQuNzUgLTI0Ljc1Yy0xLjcyLC0xLjcyIC0zLjI2LC0zLjI2IC00Ljk4LC00Ljk4IC0yLjcyLC0yLjcyIC0zLjY3LC0zLjU0IC0zLjY3LC03Ljg1IDAsLTEuMjUgMC42MiwtMi4yMiAxLjEyLC0yLjk1IDAuOTQsLTEuMzQgNC4xOSwtMy4zNCA1LjcsLTQuNDggNS42OCwtNC4yNyA3LjkyLC0xMS4xMSA1LjY0LC0xNy45MiAtMC40NywtMS40IC0xLjEsLTIuNzIgLTIuMDIsLTMuODZsLTIuODEgLTMuMDdjLTMuNzQsLTMuNzQgLTMxLjE0LC0zMS41MiAtMzIuODEsLTMyLjc1IC03LjI1LC01LjMyIC0xNi42NywtMy45MiAtMjEuOTgsMy40bC0xLjg1IDIuNjdjLTEuMjcsMS44OSAtMi41MiwzLjYyIC0zLjU5LDUuNjcgLTAuNiwxLjE0IC0xLjExLDIgLTEuNjYsMy4xIC00LjgxLDkuNjQgLTcuOTEsMTcuMjEgLTcuOTEsMjguOTN6Ii8+DQogPC9nPg0KPC9zdmc+DQo=');
					background-size: 20%;
					background-position: 15px center;
					background-repeat: no-repeat;
					.text {
						padding-left: 1.6em;
					}
				}
			}
		}
	}
	.mobile-navigation-opener {
		line-height: 1em;
		float: left;
		.toggle-icon {
			position: relative;
			display: inline-block;
			vertical-align: middle;
			width: 22px;
			height: 20px;
			.toggle-icon-inner {
				transition-timing-function: cubic-bezier(.55, .055, .675, .19);
				transition-duration: 75ms;
				top: 8px;
				&:before {
					transition: top 75ms ease .12s;
					top: -6px;
				}
				&:after {
					transition: bottom 75ms ease .12s;
					bottom: -6px;
				}
			}
			.toggle-icon-inner, .toggle-icon-inner:before, .toggle-icon-inner:after {
				content: '';
				background-color: #3a3a3c;
				position: absolute;
				width: 20px;
				height: 2px;
				transition-timing-function: ease;
				transition-duration: .15s;
				transition-property: transform;
			}
		}
	}
	&.active {
		.mobile-navigation-popup {
			left: 0;
		}
		.toggle-icon {
			.toggle-icon-inner {
				transition-delay: .12s;
				transition-timing-function: cubic-bezier(.215, .61, .355, 1);
				transform: rotate(45deg);
			}
			.toggle-icon-inner:before {
				top: 0;
				transition: top 75ms ease, opacity 75ms ease .12s;
				opacity: 0;
			}
			.toggle-icon-inner:after {
				bottom: 0;
				transition: bottom 75ms ease, transform 75ms cubic-bezier(.215, .61, .355, 1) .12s;
				transform: rotate(-90deg);
			}
		}
	}
	@media screen and (min-width: 681px) {
		display: none;
	}
}